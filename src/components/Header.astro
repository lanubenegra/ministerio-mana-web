
---
import { t } from '@i18n/locales';
import LangSwitch from '@components/LangSwitch.astro';
import AccountButton from '@components/AccountButton.astro';
const locale = Astro.cookies.get('lang')?.value ?? 'es';
---
<header class="sticky top-0 z-40 border-b border-[var(--mana-border-strong)] bg-[var(--mana-surface)]/80 backdrop-blur-lg supports-[backdrop-filter]:backdrop-blur-xl shadow-[var(--mana-shadow-1)] transition-colors duration-300">
  <div class="container-tight grid grid-cols-[auto,1fr,auto] items-center gap-6 lg:gap-10 py-5 px-4 md:px-6">
    <a href="/" class="group inline-flex items-center gap-3 shrink-0">
      <span class="relative flex h-11 w-11 items-center justify-center rounded-2xl border border-[var(--mana-border)] bg-[var(--mana-surface)] shadow-brandInset transition-all duration-200 group-hover:border-brand-medium group-hover:shadow-brand">
        <img src="/logo.svg" alt="Ministerio Maná" class="h-7 w-auto" />
      </span>
      <div class="hidden sm:flex flex-col leading-tight">
        <span class="text-xs font-display font-semibold uppercase tracking-[0.12em] text-neutral-500">Ministerio</span>
        <span class="text-base font-display font-bold text-brand-dark group-hover:text-brand-medium transition-colors">Maná</span>
      </div>
    </a>

    <nav class="hidden lg:flex items-center justify-center gap-5 xl:gap-6">
      <a href="/" class="nav-link px-2 py-1 text-sm">{t(locale,'nav_home')}</a>
      <a href="/ministerio/" class="nav-link px-2 py-1 text-sm">{t(locale,'nav_ministry')}</a>
      <a href="/campus/" class="nav-link px-2 py-1 text-sm">{t(locale,'nav_campus')}</a>
      <a href="/escuela-biblica/" class="nav-link px-2 py-1 text-sm">{t(locale,'nav_school')}</a>
      <a href="/iglesias/" class="nav-link px-2 py-1 text-sm">{t(locale,'nav_churches')}</a>
      <a href="/eventos/" class="nav-link px-2 py-1 text-sm">{t(locale,'nav_events')}</a>
      <a href="/devocional/" class="nav-link px-2 py-1 text-sm">{t(locale,'nav_devotional')}</a>
      <a href="/mujeres/" class="nav-link px-2 py-1 text-sm">{t(locale,'nav_women')}</a>
      <a href="/peregrinaciones/" class="nav-link px-2 py-1 text-sm">{t(locale,'nav_pilgrims')}</a>
    </nav>

    <div class="flex items-center justify-end gap-3">
      <a href="/donaciones/" class="hidden lg:inline-flex btn-primary px-5 py-2 text-sm shadow-[var(--mana-shadow-1)]">{t(locale,'nav_donate')}</a>
      <AccountButton />
      <LangSwitch />
      <details class="relative lg:hidden">
        <summary class="btn-outline btn-sm cursor-pointer select-none">Menú</summary>
        <div class="absolute right-0 mt-3 w-64 rounded-3xl border border-[var(--mana-border-strong)] bg-[var(--mana-surface)] p-4 shadow-lg">
          <div class="flex flex-col gap-3">
            <a href="/portal/" class="nav-link flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
              </svg>
              Portal Maná
            </a>
            <hr class="border-[var(--mana-border)]" />
            <a href="/" class="nav-link">{t(locale,'nav_home')}</a>
            <a href="/ministerio/" class="nav-link">{t(locale,'nav_ministry')}</a>
            <a href="/campus/" class="nav-link">{t(locale,'nav_campus')}</a>
            <a href="/escuela-biblica/" class="nav-link">{t(locale,'nav_school')}</a>
            <a href="/iglesias/" class="nav-link">{t(locale,'nav_churches')}</a>
            <a href="/eventos/" class="nav-link">{t(locale,'nav_events')}</a>
            <a href="/devocional/" class="nav-link">{t(locale,'nav_devotional')}</a>
            <a href="/mujeres/" class="nav-link">{t(locale,'nav_women')}</a>
            <a href="/peregrinaciones/" class="nav-link">{t(locale,'nav_pilgrims')}</a>
            <a href="/donaciones/" class="btn-primary justify-center text-xs">{t(locale,'nav_donate')}</a>
          </div>
        </div>
      </details>
    </div>
  </div>
</header>
