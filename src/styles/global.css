@tailwind base;
@tailwind components;
@tailwind utilities;
@import "./theme.css";

/* Intro font family â€“ place font files under /public/fonts/intro/ */
@font-face {
  font-family: "Intro";
  src: url("/fonts/intro/Intro-Thin.woff2") format("woff2");
  font-weight: 200;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Intro";
  src: url("/fonts/intro/Intro-Light.woff2") format("woff2");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Intro";
  src: url("/fonts/intro/Intro-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Intro";
  src: url("/fonts/intro/Intro-Book.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Intro";
  src: url("/fonts/intro/Intro-Bold.woff") format("woff");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Intro";
  src: url("/fonts/intro/Intro-Black.woff2") format("woff2");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

html {
  scroll-behavior: smooth;
  background: rgb(var(--mana-beige));
}

body {
  @apply font-body antialiased;
  background: rgb(var(--cosmic-void));
  color: rgb(var(--text-main));

  position: relative;
  min-height: 100vh;
}

main {
  position: relative;
  z-index: 10;
}

@layer base {

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display font-semibold;
    letter-spacing: -0.01em;
  }

  h1 {
    font-size: clamp(2rem, 5vw, 3rem);
    line-height: 1.05;
    letter-spacing: -0.02em;
    @apply font-display font-black;
    color: rgb(var(--mana-navy));
  }

  h2 {
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    line-height: 1.1;
    letter-spacing: -0.018em;
    color: rgb(var(--mana-navy));
  }

  h3 {
    font-size: clamp(1.4rem, 3vw, 1.9rem);
    line-height: 1.2;
    color: rgb(var(--mana-navy));
  }

  p {
    @apply text-base leading-relaxed;
    color: rgba(var(--mana-navy), 0.72);
  }

  strong {
    @apply text-brand-dark;
  }

  a {
    color: rgb(var(--mana-navy));
    transition: color 200ms ease;
  }

  a:hover,
  a:focus-visible {
    color: var(--mana-teal);
  }
}

@layer components {
  .container-tight {
    @apply mx-auto max-w-6xl px-5 md:px-8;
  }

  .h1 {
    font-size: clamp(2.1rem, 6vw, 3.25rem);
    @apply font-display font-black text-brand-dark;
  }

  .h2 {
    font-size: clamp(1.65rem, 5vw, 2.4rem);
    @apply font-display font-semibold text-brand-medium;
  }

  .lead {
    @apply text-lg font-body text-neutral-700;
  }

  .card {
    @apply relative overflow-hidden rounded-3xl border bg-white shadow-sm;
    border-color: rgba(var(--mana-navy), 0.08);
    box-shadow: var(--mana-shadow-1);
  }

  .card--accent {
    @apply bg-white;
    border-color: rgba(var(--mana-navy), 0.14);
  }

  .badge {
    @apply inline-flex items-center gap-2 rounded-full bg-brand-medium/10 px-3 py-1 text-xs font-semibold text-brand-dark;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-full border border-transparent px-8 py-3.5 font-display text-sm font-semibold tracking-[0.14em] uppercase text-white transition-all duration-200;
    background: var(--mana-gradient);
    box-shadow: var(--mana-shadow-2);
  }

  .btn-outline {
    @apply inline-flex items-center justify-center gap-2 rounded-full border px-8 py-3.5 font-display text-sm font-semibold tracking-[0.08em] uppercase transition-all duration-200;
    border-color: rgba(var(--mana-navy), 0.15);
    background: rgba(var(--mana-white), 0.88);
    color: rgb(var(--mana-navy));
  }

  .btn-sm {
    @apply px-6 py-2.5 text-xs uppercase tracking-[0.12em];
  }

  .pill {
    @apply rounded-full border border-[var(--mana-border-strong)] bg-[var(--mana-surface)] px-4 py-1 text-xs font-semibold text-neutral-700;
  }

  .section-title {
    @apply flex items-center gap-3 font-display text-sm font-semibold uppercase tracking-[0.14em] text-neutral-500;
  }

  .section-title::before {
    content: "";
    @apply h-1 w-10 rounded-full bg-brand-medium/60;
  }

  .nav-link {
    @apply relative font-display text-sm font-medium text-neutral-500 transition-colors duration-200;
  }

  .nav-link::after {
    content: "";
    @apply absolute left-0 bottom-[-0.35rem] h-[3px] w-0 rounded-full bg-brand-medium/80 transition-all duration-200;
  }

  .nav-link:hover,
  .nav-link:focus-visible {
    @apply text-brand-dark;
  }

  .nav-link:hover::after,
  .nav-link:focus-visible::after {
    width: 100%;
  }

  .stat-block {
    @apply rounded-3xl border border-[var(--mana-border)] bg-[var(--mana-surface)] px-6 py-5 shadow-sm;
  }

  .font-intro {
    font-family: "Intro", system-ui, sans-serif;
  }

  /* Nuevas utilidades premium */
  .mana-surface {
    background: rgba(var(--mana-white), 0.94);
    border: 1px solid rgba(var(--mana-navy), 0.1);
    border-radius: var(--mana-radius-lg);
    box-shadow: var(--mana-shadow-1);
  }

  .mana-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 999px;
    padding: 14px 22px;
    font-weight: 700;
    letter-spacing: 0.02em;
    color: rgb(var(--mana-white));
    background: var(--mana-gradient);
    box-shadow: var(--mana-shadow-2);
    transition: transform 180ms ease, filter 180ms ease;
  }

  .mana-btn:hover {
    transform: translateY(-1px);
    filter: saturate(1.05);
  }

  .mana-btn:active {
    transform: translateY(0);
  }

  .mana-btn-ghost {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 999px;
    padding: 12px 18px;
    font-weight: 700;
    color: rgb(var(--mana-navy));
    background: rgba(var(--mana-white), 0.75);
    border: 1px solid rgba(var(--mana-navy), 0.15);
    transition: background 180ms ease, transform 180ms ease;
  }

  .mana-btn-ghost:hover {
    background: rgba(var(--mana-white), 0.95);
    transform: translateY(-1px);
  }

  /* Reveal */
  .mana-reveal {
    opacity: 0;
    transform: translateY(18px);
    transition: opacity 700ms cubic-bezier(.2, .8, .2, 1), transform 700ms cubic-bezier(.2, .8, .2, 1);
  }

  .mana-reveal.mana-in {
    opacity: 1;
    transform: translateY(0);
  }

  /* Glass util */
  .mana-glass {
    background: rgba(var(--mana-navy), 0.18);
    border: 1px solid rgba(var(--mana-teal), 0.25);
    backdrop-filter: blur(12px);
    border-radius: var(--mana-radius-lg);
    box-shadow: var(--mana-shadow-1);
    padding: 1.25rem;
    color: white;
  }

  /* Historia storytelling */
  .history-story {
    position: relative;
    background: linear-gradient(180deg, #1f2f63 0%, #23336a 40%, #1d2955 100%);
    color: #fff;
    min-height: 240vh;
    overflow: hidden;
  }

  .history-grid {
    display: grid;
    grid-template-columns: 1.1fr 0.9fr;
    gap: 3rem;
    min-height: 100vh;
    position: sticky;
    top: 0;
    padding: 4rem 0;
  }

  @media (max-width: 1024px) {
    .history-grid {
      grid-template-columns: 1fr;
      position: relative;
    }
  }

  .history-copy {
    display: flex;
    flex-direction: column;
    gap: 2.5rem;
  }

  .history-heading {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .history-eyebrow {
    font-size: 0.8rem;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.7);
  }

  .history-title {
    font-family: "Intro", sans-serif;
    font-weight: 800;
    font-size: clamp(2rem, 4.5vw, 3.4rem);
    line-height: 1.1;
  }

  .history-lead {
    font-size: 1.05rem;
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.65;
    max-width: 42rem;
  }

  .history-scenes {
    position: relative;
    border-left: 1px solid rgba(255, 255, 255, 0.18);
    padding-left: 2.5rem;
    display: grid;
    gap: 0;
  }

  .history-scene {
    position: relative;
    min-height: 75vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 0.6rem;
    opacity: 0.6;
    transition: opacity 200ms ease, transform 200ms ease;
  }

  .history-scene::before {
    content: "";
    position: absolute;
    left: -1.25rem;
    top: 50%;
    width: 14px;
    height: 14px;
    border-radius: 999px;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(40, 166, 189, 0.6);
    box-shadow: 0 0 0 10px rgba(40, 166, 189, 0.1);
  }

  .history-scene.is-active {
    opacity: 1;
    transform: translateX(8px);
  }

  .history-scene.is-active::before {
    background: rgb(var(--mana-teal));
    border-color: rgb(var(--mana-teal));
    box-shadow: 0 0 0 12px rgba(40, 166, 189, 0.2);
  }

  .history-year {
    font-size: clamp(2.2rem, 7vw, 5rem);
    font-weight: 800;
    color: rgb(var(--mana-teal));
    line-height: 1;
  }

  .history-meta {
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: rgba(255, 255, 255, 0.7);
  }

  .history-text {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.6;
    max-width: 30rem;
  }

  .history-visual {
    position: sticky;
    top: 120px;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    align-self: flex-start;
  }

  @media (max-width: 1024px) {
    .history-visual {
      position: relative;
      top: 0;
    }
  }

  .history-vision {
    border-radius: 28px;
    padding: 1.5rem;
    background: radial-gradient(circle at 10% 15%, rgba(40, 166, 189, 0.25), transparent 45%),
      rgba(41, 60, 116, 0.35);
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: var(--mana-shadow-1);
  }

  .history-vision-label {
    font-size: 0.75rem;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.65);
  }

  .history-globe {
    position: relative;
    height: 340px;
    width: 100%;
    border-radius: 999px;
    background: radial-gradient(circle at 30% 30%, rgba(40, 166, 189, 0.18), transparent 50%),
      rgba(28, 40, 80, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.14);
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(15, 23, 42, 0.35);
  }

  .history-globe-map {
    position: absolute;
    inset: -10%;
    background-image: radial-gradient(circle, rgba(255, 255, 255, 0.14) 1px, transparent 1px);
    background-size: 12px 12px;
    opacity: 0.6;
    transform: rotate(var(--globe-rotate, 0deg));
    transition: transform 600ms ease;
    mask-image: radial-gradient(circle, #000 55%, transparent 70%);
  }

  .history-pin {
    position: absolute;
    left: var(--x);
    top: var(--y);
    transform: translate(-50%, -50%);
    color: white;
  }

  .history-pin::before {
    content: "";
    position: absolute;
    inset: -6px;
    border-radius: 999px;
    border: 2px solid rgba(40, 166, 189, 0.7);
    background: rgba(40, 166, 189, 0.2);
  }

  .history-pin::after {
    content: "";
    position: absolute;
    left: 50%;
    top: 50%;
    height: 1px;
    width: var(--len);
    background: rgba(255, 255, 255, 0.5);
    transform-origin: left center;
    transform: translate(0, -50%) rotate(var(--angle));
  }

  .history-pin-label {
    position: absolute;
    left: calc(50% + var(--len));
    top: 50%;
    transform: translate(10px, -50%);
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: rgba(255, 255, 255, 0.7);
    white-space: nowrap;
  }

  .history-pin.is-active::before {
    background: rgba(40, 166, 189, 0.8);
    border-color: rgba(40, 166, 189, 1);
    box-shadow: 0 0 0 12px rgba(40, 166, 189, 0.15);
  }
}